"use strict";(self.webpackChunkconnectify=self.webpackChunkconnectify||[]).push([[774],{6774:function(n,e,t){t.r(e),t.d(e,{UsersContainer:function(){return V},default:function(){return X}});var r=t(5671),o=t(3144),u=t(136),i=t(5716),s=t(2791),c=t(364),a=t(885),l="Pagination_paginator__8-QpA",f="Pagination_selectedPage__ddVgG",p=t(184),h=function(n){for(var e=n.totalItemsCount,t=n.pageSize,r=n.portionSize,o=void 0===r?10:r,u=n.currentPage,i=n.onPageChanged,c=(0,s.useState)(1),h=(0,a.Z)(c,2),d=h[0],g=h[1],v=Math.ceil(e/t),y=[],w=1;w<=v;w++)y.push(w);var m=Math.ceil(v/o),x=(d-1)*o+1,P=d*o;return(0,p.jsxs)("div",{className:l,children:[d>1&&(0,p.jsx)("button",{onClick:function(){g(d-1)},children:"PREV"}),y.filter((function(n){return n>=x&&n<=P})).map((function(n){return(0,p.jsx)("span",{className:u===n?f:"",onClick:function(e){i(n)},children:n},n)})),m>d&&(0,p.jsx)("button",{onClick:function(){g(d+1)},children:"NEXT"})]})},d="Users_userPhoto__XImDn",g=t(4353),v=t(1523),y=function(n){var e=n.user,t=n.followingInProgress,r=n.follow,o=n.unfollow;return(0,p.jsxs)("div",{children:[(0,p.jsxs)("span",{children:[(0,p.jsx)("div",{children:(0,p.jsx)(v.OL,{to:"/profile/"+e.id,children:(0,p.jsx)("img",{src:null!=e.photos.small?e.photos.small:g,className:d})})}),(0,p.jsx)("div",{children:e.followed?(0,p.jsx)("button",{disabled:t.some((function(n){return n===e.id})),onClick:function(){o(e.id)},children:" Unfollow "}):(0,p.jsx)("button",{disabled:t.some((function(n){return n===e.id})),onClick:function(){r(e.id)},children:" Follow "})})]}),(0,p.jsxs)("span",{children:[(0,p.jsx)("div",{children:e.name}),(0,p.jsx)("div",{children:e.status})]}),(0,p.jsx)("span",{children:(0,p.jsx)("div",{children:"user.location.city"})})]})},w=function(n){var e=n.users,t=n.currentPage,r=n.onPageChanged,o=n.totalUsersCount,u=n.pageSize,i=n.followingInProgress,s=n.follow,c=n.unfollow;return(0,p.jsxs)("div",{children:[(0,p.jsx)(h,{currentPage:t,onPageChanged:r,totalItemsCount:o,pageSize:u,portionSize:10}),e.map((function(n){return(0,p.jsx)(y,{user:n,followingInProgress:i,unfollow:c,follow:s},n.id)}))]})},m=t(6159),x=t(2932),P=t(7781),j="NOT_FOUND";var C=function(n,e){return n===e};function b(n,e){var t="object"===typeof e?e:{equalityCheck:e},r=t.equalityCheck,o=void 0===r?C:r,u=t.maxSize,i=void 0===u?1:u,s=t.resultEqualityCheck,c=function(n){return function(e,t){if(null===e||null===t||e.length!==t.length)return!1;for(var r=e.length,o=0;o<r;o++)if(!n(e[o],t[o]))return!1;return!0}}(o),a=1===i?function(n){var e;return{get:function(t){return e&&n(e.key,t)?e.value:j},put:function(n,t){e={key:n,value:t}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}(c):function(n,e){var t=[];function r(n){var r=t.findIndex((function(t){return e(n,t.key)}));if(r>-1){var o=t[r];return r>0&&(t.splice(r,1),t.unshift(o)),o.value}return j}return{get:r,put:function(e,o){r(e)===j&&(t.unshift({key:e,value:o}),t.length>n&&t.pop())},getEntries:function(){return t},clear:function(){t=[]}}}(i,c);function l(){var e=a.get(arguments);if(e===j){if(e=n.apply(null,arguments),s){var t=a.getEntries(),r=t.find((function(n){return s(n.value,e)}));r&&(e=r.value)}a.put(arguments,e)}return e}return l.clearCache=function(){return a.clear()},l}function S(n){var e=Array.isArray(n[0])?n[0]:n;if(!e.every((function(n){return"function"===typeof n}))){var t=e.map((function(n){return"function"===typeof n?"function "+(n.name||"unnamed")+"()":typeof n})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t+"]")}return e}function k(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var o=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var u,i=0,s={memoizeOptions:void 0},c=r.pop();if("object"===typeof c&&(s=c,c=r.pop()),"function"!==typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var a=s,l=a.memoizeOptions,f=void 0===l?t:l,p=Array.isArray(f)?f:[f],h=S(r),d=n.apply(void 0,[function(){return i++,c.apply(null,arguments)}].concat(p)),g=n((function(){for(var n=[],e=h.length,t=0;t<e;t++)n.push(h[t].apply(null,arguments));return u=d.apply(null,n)}));return Object.assign(g,{resultFunc:c,memoizedResultFunc:d,dependencies:h,lastResult:function(){return u},recomputations:function(){return i},resetRecomputations:function(){return i=0}}),g};return o}var U=k(b),I=U((function(n){return n.usersPage.users}),(function(n){return n.filter((function(n){return!0}))})),Z=function(n){return n.usersPage.pageSize},z=function(n){return n.usersPage.totalUsersCount},A=function(n){return n.usersPage.currentPage},E=function(n){return n.usersPage.isLoading},O=function(n){return n.usersPage.followingInProgress},F=t(5861),_=t(7757),q=t.n(_),N=t(4461),D=t(1304),M=function(n){return{type:D.Gd,userId:n}},R=function(n){return{type:D.E$,userId:n}},L=function(n){return{type:D.Nc,currentPage:n}},T=function(n){return{type:D.oF,isLoading:n}},$=function(n,e){return{type:D.jw,isFetching:n,userId:e}},G=function(){var n=(0,F.Z)(q().mark((function n(e,t,r,o){return q().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e($(!0,t)),n.next=3,r(t);case 3:n.sent.resultCode===N.AC.SUCCESS&&e(o(t)),e($(!1,t));case 6:case"end":return n.stop()}}),n)})));return function(e,t,r,o){return n.apply(this,arguments)}}(),V=function(n){(0,u.Z)(t,n);var e=(0,i.Z)(t);function t(){var n;(0,r.Z)(this,t);for(var o=arguments.length,u=new Array(o),i=0;i<o;i++)u[i]=arguments[i];return(n=e.call.apply(e,[this].concat(u))).onPageChanged=function(e){var t=n.props.pageSize;n.props.requestUsers(e,t)},n}return(0,o.Z)(t,[{key:"componentDidMount",value:function(){var n=this.props,e=n.currentPage,t=n.pageSize;this.props.requestUsers(e,t)}},{key:"render",value:function(){return(0,p.jsxs)(p.Fragment,{children:[this.props.isFetching?(0,p.jsx)(m.p,{}):null,(0,p.jsx)(w,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,follow:this.props.follow,unfollow:this.props.unfollow,users:this.props.users,setCurrentPage:this.props.setCurrentPage,isFetching:this.props.isFetching,followingInProgress:this.props.followingInProgress,requestUsers:this.props.requestUsers})]})}}]),t}(s.Component),X=(0,P.qC)(x.D,(0,c.$j)((function(n){return{users:I(n),pageSize:Z(n),totalUsersCount:z(n),currentPage:A(n),isFetching:E(n),followingInProgress:O(n)}}),(function(n){return{follow:function(e){n(function(n){return function(){var e=(0,F.Z)(q().mark((function e(t){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(t,n,N.h3.followUser.bind(N.h3),M);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}(e))},unfollow:function(e){n(function(n){return function(){var e=(0,F.Z)(q().mark((function e(t){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(t,n,N.h3.unfollowUser.bind(N.h3),R);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}(e))},setCurrentPage:function(e){n(L(e))},requestUsers:function(e,t){n(function(n,e){return function(){var t=(0,F.Z)(q().mark((function t(r){var o;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(T(!0)),r(L(n)),t.next=4,N.h3.getUsers(n,e);case 4:o=t.sent,r(T(!1)),r((i=o.items,{type:D.d0,users:i})),r((u=o.totalCount,{type:D.MZ,totalCount:u}));case 8:case"end":return t.stop()}var u,i}),t)})));return function(n){return t.apply(this,arguments)}}()}(e,t))}}})))(V)},2932:function(n,e,t){t.d(e,{D:function(){return l}});var r=t(8683),o=t(5987),u=(t(2791),t(9271)),i=t(364),s=t(184),c=["isAuth"],a=function(n){return{isAuth:n.auth.isAuth}};function l(n){return(0,i.$j)(a)((function(e){var t=e.isAuth,i=(0,o.Z)(e,c);return t?(0,s.jsx)(n,(0,r.Z)({},i)):(0,s.jsx)(u.l_,{to:"/login"})}))}},4353:function(n,e,t){n.exports=t.p+"static/media/user.a6143582309785dca610.png"},5987:function(n,e,t){t.d(e,{Z:function(){return o}});var r=t(3366);function o(n,e){if(null==n)return{};var t,o,u=(0,r.Z)(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(o=0;o<i.length;o++)t=i[o],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(u[t]=n[t])}return u}},885:function(n,e,t){t.d(e,{Z:function(){return o}});var r=t(181);function o(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,u=[],i=!0,s=!1;try{for(t=t.call(n);!(i=(r=t.next()).done)&&(u.push(r.value),!e||u.length!==e);i=!0);}catch(c){s=!0,o=c}finally{try{i||null==t.return||t.return()}finally{if(s)throw o}}return u}}(n,e)||(0,r.Z)(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=774.1b9c8f9f.chunk.js.map